<!DOCTYPE html>

<html lang="vi">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Valentine cho b√© B∆∞</title>

    <link rel="stylesheet" href="style.css">

</head>

<body>



    <div class="card-container">

        <div class="duck-wrapper" onclick="changeSlide()">

            <div class="speech-bubble" id="duck-label">Em V·ªãt th√∫i</div>

            <div class="duck-frame">

                <img src="images/duck1.png" alt="V·ªãt B∆∞" id="duck-img">

            </div>

        </div>



        <div class="text-section">

            <div id="slide-1" class="content-slide">

                <h1>H√° lu b√© B∆∞ c·ªßa tui...</h1>

                <p>C≈©ng ƒë√£ ƒë∆∞·ª£c 1 kho·∫£ng th·ªùi gian ƒëi c√πng nhau r·ªìi ha, </p>

                <small>(Ch·∫°m v√†o con v·ªãt ƒë·ªÉ xem ti·∫øp n√®...)</small>

            </div>



            <div id="slide-2" class="content-slide" style="display: none;">

                <h1>B√© B∆∞ ∆°i... üíñ</h1>

                <p>B√† th·∫•y tui v·ª´a ƒë·ªïi h√¨nh kh√¥ng? üòÇ</p>

                <p>B·∫•m th√™m l·∫ßn n·ªØa ƒë·ªÉ ƒë·ªçc ti·∫øp t√¢m th∆∞ c·ªßa tui nha!</p>

            </div>



            <div id="slide-3" class="content-slide" style="display: none;">

                <h1>T√¢m th∆∞ g·ª≠i b√†... üíå</h1>

                <div class="scroll-text">

                    <p>Ch√∫c b√© B∆∞ lu√¥n xinh ƒë·∫πp v√† h·∫°nh ph√∫c!</p>

                    <p>C·∫£m ∆°n b√† ƒë√£ lu√¥n ·ªü b√™n c·∫°nh tui...</p>

                    <p>Valentine n√†y tui h·ª©a s·∫Ω b·ªõt l√†m b√† qu·∫°u l·∫°i nhen.</p>

                    </div>

            </div>

        </div>



<div class="music-player">

    <div class="music-info">

        <marquee behavior="scroll" direction="left">The Mar√≠as - No One Noticed</marquee>

    </div>

   

    <div class="player-layout">

        <div class="album-art" id="album-disk">

            <img src="images/image.png" alt="Music Cover">

        </div>



        <div class="music-controls">

            <button class="ctrl-btn decoration">‚èÆ</button>

            <button id="play-pause-btn" class="ctrl-btn" onclick="toggleMusic()">‚è∏</button>

            <button class="ctrl-btn decoration">‚è≠</button>

        </div>

    </div>

</div>



<audio id="myAudio" loop>

    <source src="mp3/The Mar√≠as - No One Noticed (slowed + reverb).mp3" type="audio/mpeg">

</audio>







        <div class="image-frame">

            <div class="frame">

                <img src="images/Nhu.jpg" alt="B√© B∆∞">

            </div>

        </div>

    </div>



    <canvas id="particleCanvas"></canvas>





    <script>



        const canvas = document.getElementById('particleCanvas');

const ctx = canvas.getContext('2d');



canvas.width = window.innerWidth;

canvas.height = window.innerHeight;



let particlesArray = [];

const numberOfParticles = 80; // S·ªë l∆∞·ª£ng h·∫°t v·ª´a ph·∫£i cho sang



class Particle {

    constructor() {

        this.reset();

    }

    reset() {

        this.x = Math.random() * canvas.width;

        this.y = Math.random() * canvas.height - canvas.height;

        this.size = Math.random() * 3 + 1; // H·∫°t to nh·ªè ng·∫´u nhi√™n

        this.speedY = Math.random() * 1 + 0.5; // R∆°i ch·∫≠m

        this.speedX = Math.random() * 0.5 - 0.25; // Bay nh·∫π sang ngang

        this.color = 'rgba(245, 235, 224, 0.6)'; // M√†u kem nh·∫°t gi·ªëng tone web

    }

    update() {

        this.y += this.speedY;

        this.x += this.speedX;

        if (this.y > canvas.height) this.reset();

    }

    draw() {

        ctx.fillStyle = this.color;

        ctx.beginPath();

        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);

        ctx.fill();

    }

}



function init() {

    for (let i = 0; i < numberOfParticles; i++) {

        particlesArray.push(new Particle());

    }

}



function animate() {

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (let i = 0; i < particlesArray.length; i++) {

        particlesArray[i].update();

        particlesArray[i].draw();

    }

    requestAnimationFrame(animate);

}



window.addEventListener('resize', function() {

    canvas.width = window.innerWidth;

    canvas.height = window.innerHeight;

});



init();

animate();

    let currentStep = 1;



    function toggleMusic() {

    const audio = document.getElementById('myAudio');

    const btn = document.getElementById('play-pause-btn');



    if (audio.paused) {

        audio.play();

        btn.innerText = "‚è∏"; // ƒê·ªïi icon sang Pause khi ƒëang h√°t

    } else {

        audio.pause();

        btn.innerText = "‚ñ∂"; // ƒê·ªïi icon sang Play khi d·ª´ng

    }

}



function startEverything() {

    const audio = document.getElementById('myAudio');

    const disk = document.getElementById('album-disk');

    const btn = document.getElementById('play-pause-btn');



    // Nh·∫£y th·∫≥ng ƒë·∫øn ƒëo·∫°n 2 ph√∫t 07 gi√¢y

    audio.currentTime = 127;



    audio.play().then(() => {

        // C·∫≠p nh·∫≠t giao di·ªán ngay l·∫≠p t·ª©c khi nh·∫°c k√™u

        btn.innerText = "‚è∏";

        if (disk) disk.style.animationPlayState = "running";

        console.log("Nh·∫°c ƒëang ph√°t t·ª´ ƒëo·∫°n 2:07");

    }).catch(error => {

        console.log("L·ªói: H√£y ch·∫Øc ch·∫Øn file nh·∫°c ƒë√£ n·∫±m trong th∆∞ m·ª•c mp3", error);

    });



    // ·∫®n m√†n h√¨nh ch·ªù

    const overlay = document.getElementById('overlay');

    overlay.style.opacity = '0';

    setTimeout(() => {

        overlay.style.display = 'none';

    }, 500);

}



// H√†m n√†y ƒë·ªÉ b·∫•m n√∫t Pause/Play tr√™n tr√¨nh ph√°t nh·∫°c

function toggleMusic() {

    const audio = document.getElementById('myAudio');

    const btn = document.getElementById('play-pause-btn');

    const disk = document.getElementById('album-disk');



    if (audio.paused) {

        audio.play();

        btn.innerText = "‚è∏";

        if (disk) disk.style.animationPlayState = "running";

    } else {

        audio.pause();

        btn.innerText = "‚ñ∂";

        if (disk) disk.style.animationPlayState = "paused";

    }

}



    function changeSlide() {

        const duckImg = document.getElementById('duck-img');

        const duckLabel = document.getElementById('duck-label');



        if (currentStep === 1) {

            // Chuy·ªÉn sang Slide 2

            document.getElementById('slide-1').style.display = 'none';

            document.getElementById('slide-2').style.display = 'block';

            duckImg.src = "images/duck2.png"; // ƒê·ªïi sang ·∫£nh v·ªãt 2

            duckLabel.innerText = "s·∫øn vl??";

            currentStep = 2;

        } else if (currentStep === 2) {

            // Chuy·ªÉn sang Slide 3

            document.getElementById('slide-2').style.display = 'none';

            document.getElementById('slide-3').style.display = 'block';

            duckImg.src = "images/duck3.png"; // ƒê·ªïi sang ·∫£nh v·ªãt 3

            duckLabel.innerText = "V·ªãt vui r√≤iii";

            currentStep = 3;

        }

    }

    </script>





    <audio id="myAudio" loop>

    <source src="images/valentine_song.mp3" type="audio/mpeg">

</audio>



<div id="overlay" onclick="startEverything()" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#3d2b1f; z-index:9999; display:flex; justify-content:center; align-items:center; cursor:pointer; color:#f5ebe0;">

    <div class="overlay-content">

        <p>Ch·∫°m v√†o ƒë√¢y ƒë·ªÉ m·ªü m√≥n qu√† c·ªßa tui... üéÅ</p>

    </div>

</div>

 

</body>

</html>